name = "memento"
main = "@tanstack/react-start/server-entry"
compatibility_date = "2024-11-17"
compatibility_flags = ["nodejs_compat"]

# Development environment (default)
[vars]
VITE_SITE = "development"
VITE_API_URL = "http://localhost:8787"
VITE_WS_URL = "ws://localhost:8787"

# Beta environment
[env.beta]
name = "memento-beta"
vars = { VITE_SITE = "beta", VITE_API_URL = "https://beta.memento-api.oddlab.cc", VITE_WS_URL = "wss://beta.memento-api.oddlab.cc" }
routes = [{ pattern = "beta.memento.oddlab.cc", custom_domain = true }]

# Production environment
[env.production]
name = "memento"
vars = { VITE_SITE = "production", VITE_API_URL = "https://memento-api.oddlab.cc", VITE_WS_URL = "wss://memento-api.oddlab.cc" }
routes = [{ pattern = "memento.oddlab.cc", custom_domain = true }]
